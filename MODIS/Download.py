from sentinelsat import SentinelAPI, read_geojson, geojson_to_wkt

api = SentinelAPI('wzy951218', 'wzy951218', r'https://scihub.copernicus.eu/apihub/')

footprint = 'POLYGON((-144.06375022091746 49.578033057579205,-133.78368082953386 49.578033057579205,-119.7913641579284 49.29950403177739,-118.50635548400545 44.9305972448679,-119.22024919174042 38.769771447127226,-115.36522316997157 32.99050642026454,-111.36741840665574 27.442065274198697,-104.65681755394698 21.997798955341523,-103.37180888002403 16.19931850350966,-107.94072860952785 13.439030598741425,-111.51019714820274 12.46502033664244,-117.93524051781748 12.32556981839386,-121.07637283185136 12.46502033664244,-144.06375022091746 49.578033057579205,-144.06375022091746 49.578033057579205))'
products = api.query(footprint, date=('20180601', '20180731'), platformname='Sentinel - 2', producttype='S2MSI1C',
                     cloudcoverpercentage=(5, 25), area_relation='IsWithin')  # 云量百分比
path="F:\America\S2A\\"


api.download_all(products,directory_path=path)